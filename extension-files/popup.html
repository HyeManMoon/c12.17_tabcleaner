<!doctype html>
<!--
 This page is shown when the extension button is clicked, because the
 "browser_action" field in manifest.json contains the "default_popup" key with
 value "popup.html".
 -->
<html>
  <head>
    <title>Tab Manager</title>
    <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">
    <style type="text/css">
      body {
        box-sizing: border-box;
        margin: 10px;
        white-space: nowrap;
      }
      ul{
        list-style: none;
        padding-left: 0; 
      }
      li{
        margin: 10px;
        font-size: 18px;
      }
      li:hover{
        text-decoration: underline;
      }
      i{
        color: black;
      }
      li:hover, span:hover{
        cursor: pointer; 
      }
      .fa-trash-alt{
        margin: 0 10px; 
      }
      .green {
        color: green; 
      }

      .orange{
        color: orange;
      }

      .red {
        color: red; 
      }

      .activetab {
        font-weight: bold; 
        border: 2px solid black; 
        padding: 5px;
      }
      span > img {
        width: 20px; 
      }
      .title {
        width: 80%; 
        display: inline-block; 
      }
      #refresh{
        display: inline-block;
        width: 20px; 
      }
      #refresh img{
        width: 20px; 
      }
      #refresh img:hover {
        width: 25px; 
        cursor: pointer; 
      }

    </style>
    <script type="text/javascript" src="chrome_ex_oauthsimple.js"></script>
    <script type="text/javascript" src="chrome_ex_oauth.js"></script>
    <script type="text/javascript" src="onload.js"></script>
    <script>
    var oauth = ChromeExOAuth.initBackgroundPage({
      'request_url' : 'https://www.google.com/accounts/OAuthGetRequestToken',
      'authorize_url' : 'https://www.google.com/accounts/OAuthAuthorizeToken',
      'access_url' : 'https://www.google.com/accounts/OAuthGetAccessToken',
      'consumer_key' : 'anonymous',
      'consumer_secret' : 'anonymous',
      'scope' : 'openid',
      'app_name' : 'Tab Cleaner'
    });


    oauth.authorize(function() {
      // ... Ready to fetch private data ...
    });

    function callback(resp, xhr) {
  // ... Process text response ...
    };

    function onAuthorized() {
      var url = 'https://docs.google.com/feeds/default/private/full';
      var request = {
        'method': 'GET',
        'parameters': {'alt': 'json'}
      };

      // Send: GET https://docs.google.com/feeds/default/private/full?alt=json
      oauth.sendSignedRequest(url, callback, request);
    };

    oauth.authorize(onAuthorized);

    </script>
  </head>

  <body>
    <div >
      <h3 class='title'>Manage Current Tabs</h3>
      <div id='refresh'>
        <img  src="refresh.jpg" alt="refresh btn">
      </div>
      <ul id="tag-titles">

      </ul>
      <button>Open Webpage</button>
      <button>Login </button>
      <button>Sign Up</button>

    </div>
    <script src='popup.js'type="text/javascript"></script>
  </body>
</html>
